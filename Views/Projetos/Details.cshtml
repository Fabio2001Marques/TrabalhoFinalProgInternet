@model TrabalhoFinalProgInternet.Models.Projeto

@{
    ViewData["Title"] = "Details";
}



<div class="container mt-4">
    <h1>Detalhes</h1>

    <div>
        <h4>Projeto</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Nome)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Nome)
            </dd>

            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DataInicio)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DataInicio)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DataInicialPrevista)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DataInicialPrevista)
            </dd>

            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DataFinalPrevista)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DataFinalPrevista)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DataFinal)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DataFinal)
            </dd>
            <dt class="col-sm-2">

                Estado
            </dt>
            <dd class="col-sm-10">
                @if (Model.DataInicio == null)
                {
                    if (DateTime.Now < Model.DataInicialPrevista)
                    {
                        <p>Dentro do prazo em Espera</p>
                    }
                    else
                    {
                        <p>Atrasado em Espera</p>
                    }
                }
                else if (Model.DataFinal == null)
                {
                    if (DateTime.Now < Model.DataInicialPrevista)
                    {
                        <p>Dentro do prazo em Andamento</p>
                    }
                    else
                    {
                        <p>Atrasado em Andamento</p>
                    }
                }
                else
                {
                    if (Model.DataFinal < Model.DataFinalPrevista)
                    {
                        <p>Concluído dentro do prazo</p>
                    }
                    else
                    {
                        <p>Concluído com atrasos</p>
                    }
                }
            </dd>

            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ColaboradorId)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.colaborador.Nome)
            </dd>

        </dl>
    </div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.ProjetoId" class="btn btn-primary">Editar</a>
        <a asp-action="Delete" asp-route-id="@Model.ProjetoId" class="btn btn-danger">Eliminar</a>
        <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
    </div>
</div>